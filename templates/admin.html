<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div class="card">
        <h2>Admin Dashboard</h2>
        <a href="/logout"><button>Logout</button></a>
    </div>

    <!-- Add Teacher -->
    <div class="card">
        <h3>Add Teacher</h3>
        <form method="post">
            <input type="text" name="t_name" placeholder="Teacher Name" required>
            <input type="text" name="t_username" placeholder="Username" required>
            <input type="password" name="t_password" placeholder="Password" required>
            <button type="submit" name="add_teacher">Add Teacher</button>
        </form>
    </div>

    <!-- Add Class -->
    <div class="card">
        <h3>Add Class</h3>
        <form method="post">
            <input type="text" name="c_name" placeholder="Class Name" required>
            <select name="teacher_id" required>
                <option value="">Select Teacher</option>
                {% for teacher in teachers %}
                    <option value="{{ teacher[0] }}">{{ teacher[1] }}</option>
                {% endfor %}
            </select>
            <button type="submit" name="add_class">Add Class</button>
        </form>
    </div>

    <!-- Add Student -->
    <div class="card">
        <h3>Add Student</h3>
        <form method="post">
            <input type="text" name="s_name" placeholder="Student Name" required>
            <input type="text" name="s_username" placeholder="Username" required>
            <input type="password" name="s_password" placeholder="Password" required>
            <select name="class_id" required>
                <option value="">Select Class</option>
                {% for class in classes %}
                    <option value="{{ class[0] }}">{{ class[1] }}</option>
                {% endfor %}
            </select>
            <button type="submit" name="add_student">Add Student</button>
        </form>
    </div>

    <!-- Lists -->
    <div class="card">
        <h3>Teachers</h3>
        <ul>
            {% for t in teachers %}
                <li>{{ t[1] }} ({{ t[2] }})</li>
            {% endfor %}
        </ul>

        <h3>Classes</h3>
        <ul>
            {% for c in classes %}
                <li>{{ c[1] }}</li>
            {% endfor %}
        </ul>

        <h3>Students</h3>
        <ul>
            {% for s in students %}
                <li>{{ s[1] }} ({{ s[2] }}) - Class: {{ s[3] if s[3] else "No Class Assigned" }}</li>
            {% endfor %}
        </ul>
    </div>
</body>
</html>
